# mc-server-exploits
# minecraft-server-exploits
A compiled list of current Minecraft server and Minecraft server plugin exploits. Feel free to open issues / pull requests with new exploits.

## General Rules
In order to prevent exploits before they're discovered, there's a few things you can do:
 - Always use the latest available [Paper](https://papermc.io/downloads) version (not spigot)
 - Install the [IllegalStack](https://www.spigotmc.org/resources/dupe-fixes-illegal-stack-remover.44411/) plugin
 - Use [Grype](https://github.com/anchore/grype) to search your jars for exploits such as the Log4Shell exploit (also works for many other known Java exploits too)

## Vanilla Exploits

### Crash Exploit *(NEW)* ([link](https://www.youtube.com/watch?v=IwB3KiN0ags))
Crashes a server using a book, created using a modded client. This is only obtainable in creative-mode. 

#### Patch
Update to the latest version of Paper, which has fixed this issue in [this patch](https://github.com/PaperMC/Paper/blob/bed5cb2b81033f30be5a3edace00534a13ad2631/patches/server/0911-Disable-component-selector-resolving-in-books-by-def.patch). It is also fixed in 1.19 vanilla.

### Log4Shell ([link](https://en.wikipedia.org/wiki/Log4Shell)) ([link](https://help.minecraft.net/hc/en-us/articles/4416199399693-Security-Vulnerability-in-Minecraft-Java-Edition))
This is a serious exploit, potentially allowing remote code execution on your server very easily. It affects versions 1.7-1.18. 

#### Patch
This has been fixed in 1.18.1 by Mojang. Fixes were also backported by Paper to a lot of modern and legacy versions, download modern Paper patched versions [here](https://papermc.io/downloads) or for legacy patched versions, see [here](https://papermc.io/legacy).

Although not technically required, you can also install the [Log4jFix](https://www.spigotmc.org/resources/log4jfix.98245/) plugin on your proxy or Minecraft servers (Bukkit, Bungee and Velocity supported), which will stop the exploit reaching your players, in-case they have an unpatched client.

You can search for vulnerable jars on your servers (server jar or plugins) using [Grype](https://github.com/anchore/grype) (also works for many other known Java exploits too).

### Entity Collision Exploit ([link](https://youtu.be/Ks7mmrer37g?t=225))
A common way for players to drop TPS quickly is by putting entities inside eachother, such as Minecarts or Armor Stands.

#### Patch
To patch this for Minecarts, you can install the [CAProtect-Lite](https://github.com/castaway-gg/CAProtect-Lite) plugin, however, this will only patch specifically for minecarts.

To patch for armor stands, you can go into your `paper.yml` file and change the `armor-stands-do-collision-entity-lookups` option to `false`, or `armor-stands-tick` to `false`. Note however that this will obviouisly break some vanilla mechanics.  

## Plugin Exploits

### ImageOnMap Barrier Block Exploit ([link](https://www.youtube.com/watch?v=IUYLySgDsHM))
This exploit allows you to get barrier blocks from the ImageOnMap GUI, seems to affect versions up-to 4.2.2.

#### Patch
There is currently no publicly available patch for this exploit, there is a GitHub issue for it [here](https://github.com/zDevelopers/ImageOnMap/issues/250) which should be updated when there is a fix.

### Multiverse Crash Exploit ([link](https://github.com/Multiverse/Multiverse-Core/issues/2703))
You can very easily crash a server with an older version of Multiverse using a specific /mv command. 

#### Patch
This is patched in newer versions of Multiverse. 

If you rely on an older version of Multiverse for legacy Minecraft support, you can negate the `multiverse.*` permission, or install the [Multiverse-Patches](https://www.spigotmc.org/resources/multiverse-patches.96390/) plugin.
